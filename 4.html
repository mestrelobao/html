<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="4.css">
</head>
<body>
<button id="playPauseBtn">▶️ Play</button>
  <br>
<div class="container1">
  <div class="card1" data-sound="fly.mp3">Fly</div>
  <div class="card1" data-sound="beetle.mp3">Beetle</div>
  <div class="card1" data-sound="cat.mp3">Cat</div>
  <div class="card1" data-sound="dog.mp3">Dog</div>
  <div class="card1" data-sound="mouse.mp3">Mouse</div>
  <div class="card1" data-sound="ant.mp3">Ant</div>
</div>
<div class="container2">
  <div class="card2 active" data-sound="bezouro.mp3">Bezouro</div>
  <div class="card2" data-sound="cachorro.mp3">Cachorro</div>
  <div class="card2" data-sound="gato.mp3">Gato</div>
  <div class="card2" data-sound="rato.mp3">Rato</div>
  <div class="card2" data-sound="mosca.mp3">Mosca</div>
  <div class="card2" data-sound="formiga.mp3">Formiga</div>
</div>
</body>
  <script>
  document.querySelectorAll('.card1').forEach(card => {
    card.addEventListener('click', () => {
      card.classList.toggle('active');
          });
  });
  const cards = document.querySelectorAll('.card2');
  cards.forEach(card => {
    card.addEventListener('click', () => {
      cards.forEach(c => c.classList.remove('active'));
      card.classList.add('active');
    });
  });

   const drumCards = document.querySelectorAll('.card1');
  const rhythmCards = document.querySelectorAll('.card2');
  const playPauseBtn = document.getElementById('playPauseBtn');

  let currentLoop = null;
  let currentLoopCard = null;
  let isPlaying = false;

  // DRUMS: one-shot
  drumCards.forEach(card => {
    const audio = new Audio(card.dataset.sound);
    card.addEventListener('click', () => {
      audio.currentTime = 0;
      audio.play();
    });
  });

  // RHYTHMS: select loop (but don't auto-play)
  rhythmCards.forEach(card => {
    const audio = new Audio(card.dataset.sound);
    audio.loop = true;

    card.addEventListener('click', () => {

      // stop previous loop
      if (currentLoop && currentLoop !== audio) {
        currentLoop.pause();
        currentLoop.currentTime = 0;
        currentLoopCard.classList.remove('looping');
        isPlaying = false;
      }

      currentLoop = audio;
      currentLoopCard = card;

      rhythmCards.forEach(c => c.classList.remove('looping'));
      card.classList.add('looping');

      playPauseBtn.textContent = '▶️ Play';
      playPauseBtn.classList.remove('playing');
    });
  });

  // PLAY / PAUSE BUTTON
  playPauseBtn.addEventListener('click', () => {
    if (!currentLoop) return;

    if (isPlaying) {
      currentLoop.pause();
      playPauseBtn.textContent = '▶️ Play';
      playPauseBtn.classList.remove('playing');
    } else {
      currentLoop.play();
      playPauseBtn.textContent = '⏸ Pause';
      playPauseBtn.classList.add('playing');
    }

    isPlaying = !isPlaying;
  })
</script>
</html>
